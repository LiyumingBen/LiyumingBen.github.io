(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{645:function(s,e,n){"use strict";n.r(e);var t=n(10),a=Object(t.a)({},(function(){var s=this,e=s.$createElement,n=s._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"vue项目本地开启https访问模式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue项目本地开启https访问模式"}},[s._v("#")]),s._v(" vue项目本地开启https访问模式")]),s._v(" "),n("blockquote",[n("p",[s._v("在实际开发中，我们除了以http的形式进行页面访问，还会以https形式进行页面访问，但是根据vue-cli的版本不同，配置方式也有所差异，以下分别从vue-cli3.x、vue-cli4.x和vue-cli2.x构建的项目分别进行配置开启https:")])]),s._v(" "),n("p",[s._v("1、"),n("strong",[s._v("vue-cli3.x和vue-cli4.x")])]),s._v(" "),n("blockquote",[n("p",[s._v("使用vue脚手架3.x和vue-cli4.x搭建的项目，配置开启https方法比较简单，在项目根目录下的vue.config.js文件中增加属性 https: true 即可。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("// vue.config.js\nmodule.exports = {\n    // 配置 webpack-dev-server 行为。\n    devServer: {\n        open: true, // 编译后默认打开浏览器\n        host: '0.0.0.0',  // 域名\n        port: 8080,  // 端口\n        https: true,  // 是否https\n        // 显示警告和错误\n        overlay: {\n            warnings: false,\n            errors: true\n        },\n        proxy: {\n            '/api': {\n                target: 'http://xxx..com',\n                changeOrigin: true, //是否跨域\n                ws: false, // 是否支持websocket\n                secure: false, // 如果是https接口，需要配置这个参数\n                pathRewrite: {\n                    '^/api': ''\n                }\n            }\n        }\n    }\n\n}\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br")])]),n("p",[s._v("2、"),n("strong",[s._v("vue-cli2.x")])]),s._v(" "),n("blockquote",[n("p",[s._v("使用cli2.x搭建的项目开启https较为复杂，关键是openssl生成证书文件，如果本地没有证书，要先生成证书，以及修改项目中配置")])]),s._v(" "),n("p",[s._v("① 在build文件夹下新建 cert 文件夹，在cert目录下打开控制终端输入以下命令生成私钥 "),n("strong",[s._v("privatekey.pem")]),s._v(" 文件")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("openssl genrsa -out privatekey.pem 102\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("② 通过上面生成的"),n("strong",[s._v("privatekey.pem")]),s._v("私钥文件生成CSR 证书签名"),n("strong",[s._v("certrequest.csr")]),s._v("，根据要求填写一些相关信息，可一路按回车即可")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("openssl req -new -key privatekey.pem -out certrequest.csr\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("③ 根据上述私钥文件和csr证书签名文件生成证书文件")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("openssl x509 -req -in certrequest.csr -signkey privatekey.pem -out certificate.pem\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("最终生成3个文件：")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://wos.58cdn.com.cn/IjGfEdCbIlr/ishare/pic_WbVaU5XU377bV97b5a5a35V95a35V959.png",alt:"https://wos.58cdn.com.cn/IjGfEdCbIlr/ishare/pic_WbVaU5XU377bV97b5a5a35V95a35V959.png"}})]),s._v(" "),n("p",[s._v("3、在项目中webpack.dev.conf.js配置")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://wos.58cdn.com.cn/IjGfEdCbIlr/ishare/pic_V9d313Wc595a13d1U7U7d17bU7d35937.png",alt:"https://wos.58cdn.com.cn/IjGfEdCbIlr/ishare/pic_V9d313Wc595a13d1U7U7d17bU7d35937.png"}})]),s._v(" "),n("p",[s._v("4、重新npm run dev启动")]),s._v(" "),n("blockquote",[n("p",[s._v("注意： chrome可能会出现 "),n("strong",[s._v("您的连接不是私密连接")])])]),s._v(" "),n("p",[s._v("解决方案：\n1、解决办法就是在当前页面用键盘输入 "),n("strong",[s._v("thisisunsafe")]),s._v(" ，不是在地址栏输入，就直接敲键盘就行了，页面即会自动刷新进入网页。\n2、使用 "),n("strong",[s._v("Firefox")])])])}),[],!1,null,null,null);e.default=a.exports}}]);